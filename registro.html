<!DOCTYPE html>
<html lang="es">
<head>
    
    <meta charset="UTF-8">
    <title>Registro</title>
    <link rel="stylesheet" href="css/style-login.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/slide.css">
    <link rel="stylesheet" href="css/style-empaque.css">
    <link rel="stylesheet" href="css/style-cuadrado.css">
    <link rel="stylesheet" href="css/style-footer.css">
    <script src="https://kit.fontawesome.com/f0f6311dd7.js" crossorigin="anonymous"></script>
    <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>

    <style>
       #form label{float:left; width:140px;}
       #error_msg{color:red; font-family:Arial, Helvetica, sans-serif; font-weight:bold; margin-bottom: 10px;}
    </style>
    <script defer src="index.js"></script>
</head>
<body>
    <header class="header">
        <div class="banner">
            <p>¡Conoce todo lo nuevo que tenemos para ti!</p>
        </div>        
        <nav class="nav">
            <a href="index.html" class="logo "><img src="imagenes/logo.jpg" alt="LeftyBoxes"></a>
            <button class="nav-toggle" aria-label="Abrir Menú">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-menu">
                <li class="nav-menu-item"><a href="index.html" class="nav-menu-link nav-link">Inicio</a></li>
                <li class="nav-menu-item"><a href="productos.html" class="nav-menu-link nav-link">Productos</a></li>

                <li class="nav-menu-item"><a href="contacto.html" class="nav-menu-link nav-link">Contacto</a></li>
                <li class="nav-menu-item"><a href="conocenos.html" class="nav-menu-link nav-link">Conócenos</a></li>
                <li class="nav-menu-item"><a href="#">
            </ul>            
            <ul class="icons">
                <li class="nav-menu-item"><a href="registro.html">
                    <button class="buttons">
                        <i class="fas fa-user"></i>
                    </button>
                </a>
                </li>
                <li class="nav-menu-item"><a href="#">
                    <button class="buttons">
                        <i class="fas fa-shopping-bag"></i>
                    </button>
                </a>
                </li>
            </ul>
        </nav>           
    </header> 
    <div class="background-container">
        <div class="card">
            <div class="card-body">
 
                <h1 class="title">REGISTRO</h1>
                <form id="register-form" name="f1" action="registrar.php" method="POST">
                    <div class="form-container">
                        <input class="text-input"
                            type="text" name="nombre" placeholder="Nombre" required>
                        <input class="text-input"
                            type="email" name="email" placeholder="Email" required>
                        <input class="text-input" name="pass" id="pass"
                            type="password" placeholder="Contraseña" min="6" max="10" required>
                        <input class="text-input" name="conf_pass" id="conf_pass"
                            type="password" placeholder="Confirma contraseña"  min="6" max="10" required>
                    </div>
                    <input class="submit-input" id="button-crear" name="crear"
                        type="submit" value="Crear cuenta" >
                </form>
                <p class="paragraph">
                    ¿Ya tienes una cuenta?<a href="login.php">Log in</a>
                </p>
            </div>
        </div>

    </div>
</body>
<script>
    $(document).ready(function(){
        var $submitBtn = $("#register-form input[type='submit']");
        var $passwordBox = $("#pass");
        var $confirmBox = $("#conf_pass");
        var $errorMsg =  $('<span id="error_msg">Las contraseñas no coinciden.</span>');

        // This is incase the user hits refresh - some browsers will maintain the disabled state of the button.
        $submitBtn.removeAttr("disabled");

        function checkMatchingPasswords(){
            if($confirmBox.val() != "" && $passwordBox.val != ""){
                if( $confirmBox.val() != $passwordBox.val() ){
                    $submitBtn.attr("disabled", "disabled");
                    $errorMsg.insertAfter($confirmBox);
                }
            }
        }

        function resetPasswordError(){
            $submitBtn.removeAttr("disabled");
            var $errorCont = $("#error_msg");
            if($errorCont.length > 0){
                $errorCont.remove();
            }  
        }


        $("#conf_pass, #pass")
             .on("keydown", function(e){
                /* only check when the tab or enter keys are pressed
                 * to prevent the method from being called needlessly  */
                if(e.keyCode == 13 || e.keyCode == 9) {
                    checkMatchingPasswords();
                }
             })
             .on("blur", function(){                    
                // also check when the element looses focus (clicks somewhere else)
                checkMatchingPasswords();
            })
            .on("focus", function(){
                // reset the error message when they go to make a change
                resetPasswordError();
            })

    });
    </script>
</html>